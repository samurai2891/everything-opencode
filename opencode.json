{
  "$schema": "https://opencode.ai/config.json",
  
  "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
  "small_model": "{env:OPENCODE_SMALL_MODEL:openai/gpt-5.2-codex}",
  
  "provider": {
    "openai": {
      "models": {
        "gpt-5.2-codex": {
          "variants": {
            "xhigh": {
              "reasoningEffort": "xhigh",
              "textVerbosity": "low",
              "reasoningSummary": "auto"
            },
            "high": {
              "reasoningEffort": "high",
              "textVerbosity": "low",
              "reasoningSummary": "auto"
            },
            "medium": {
              "reasoningEffort": "medium"
            }
          }
        },
        "gpt-4o": {},
        "gpt-4o-mini": {},
        "o1": {},
        "o1-mini": {},
        "o3": {},
        "o3-mini": {}
      },
      "options": {
        "timeout": 600000
      }
    },
    "anthropic": {
      "options": {
        "apiKey": "{env:ANTHROPIC_API_KEY}"
      },
      "models": {
        "claude-sonnet-4-20250514": {},
        "claude-opus-4-20250514": {},
        "claude-3-5-sonnet-20241022": {},
        "claude-3-5-haiku-20241022": {}
      }
    },
    "google": {
      "options": {
        "apiKey": "{env:GOOGLE_API_KEY}"
      },
      "models": {
        "gemini-2.5-pro": {},
        "gemini-2.5-flash": {},
        "gemini-2.0-flash": {}
      }
    },
    "z-ai": {
      "options": {
        "apiKey": "{env:ZAI_API_KEY}"
      },
      "models": {
        "glm-4.7": {},
        "glm-4.7-flash": {}
      }
    },
    "deepseek": {
      "options": {
        "apiKey": "{env:DEEPSEEK_API_KEY}"
      },
      "models": {
        "deepseek-chat": {},
        "deepseek-coder": {},
        "deepseek-reasoner": {}
      }
    },
    "mistral": {
      "options": {
        "apiKey": "{env:MISTRAL_API_KEY}"
      },
      "models": {
        "mistral-large-latest": {},
        "codestral-latest": {}
      }
    }
  },
  
  "default_agent": "build",
  
  "agent": {
    "build": {
      "mode": "primary",
      "description": "Default agent for development with full tool access",
      "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    },
    "plan": {
      "mode": "primary",
      "description": "Planning agent for analysis without code changes",
      "model": "{env:OPENCODE_PLAN_MODEL:openai/gpt-5.2-codex}",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "central-planner": {
      "mode": "subagent",
      "description": "Arena central planner - orchestrates competition and task distribution",
      "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
      "temperature": 0.3,
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    },
    "comp-a": {
      "mode": "subagent",
      "description": "Arena competition team A - core features implementation",
      "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
      "temperature": 0.2,
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    },
    "comp-b": {
      "mode": "subagent",
      "description": "Arena competition team B - data layer and infrastructure",
      "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
      "temperature": 0.2,
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    },
    "comp-c": {
      "mode": "subagent",
      "description": "Arena competition team C - API design and integration",
      "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
      "temperature": 0.2,
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    },
    "comp-n": {
      "mode": "subagent",
      "description": "Arena competition team N - tests track (optional)",
      "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
      "temperature": 0.2,
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    },
    "qa-gate": {
      "mode": "subagent",
      "description": "Arena QA gate agent - evaluates quality and provides feedback",
      "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
      "temperature": 0.2,
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    },
    "integrator": {
      "mode": "subagent",
      "description": "Arena integrator agent - merges winners and resolves conflicts",
      "model": "{env:OPENCODE_MODEL:openai/gpt-5.2-codex}",
      "temperature": 0.2,
      "tools": {
        "write": true,
        "edit": true,
        "bash": true
      }
    }
  },
  
  "instructions": [
    "AGENTS.md",
    "skills/*.md"
  ],
  
  "permission": {
    "edit": "allow",
    "bash": "allow"
  },
  
  "compaction": {
    "auto": true,
    "prune": true
  },
  
  "watcher": {
    "ignore": ["node_modules/**", "dist/**", ".git/**", "*.log", "worktrees/**", ".arena/**"]
  },
  
  "formatter": {
    "prettier": {
      "command": ["npx", "prettier", "--write", "$FILE"],
      "extensions": [".js", ".ts", ".jsx", ".tsx", ".json", ".md"]
    }
  },
  
  "mcp": {
    "github": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-github"],
      "environment": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "{env:GITHUB_PAT}"
      },
      "enabled": true
    },
    "memory": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-memory"],
      "enabled": true
    },
    "sequential-thinking": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-sequential-thinking"],
      "enabled": true
    },
    "context7": {
      "type": "local",
      "command": ["npx", "-y", "@context7/mcp-server"],
      "enabled": true
    },
    "firecrawl": {
      "type": "local",
      "command": ["npx", "-y", "firecrawl-mcp"],
      "environment": {
        "FIRECRAWL_API_KEY": "{env:FIRECRAWL_API_KEY}"
      },
      "enabled": false
    },
    "supabase": {
      "type": "local",
      "command": ["npx", "-y", "@supabase/mcp-server-supabase@latest", "--project-ref={env:SUPABASE_PROJECT_REF}"],
      "enabled": false
    },
    "vercel": {
      "type": "remote",
      "url": "https://mcp.vercel.com",
      "enabled": false
    },
    "railway": {
      "type": "local",
      "command": ["npx", "-y", "@railway/mcp-server"],
      "enabled": false
    },
    "cloudflare-docs": {
      "type": "remote",
      "url": "https://docs.mcp.cloudflare.com/mcp",
      "enabled": false
    },
    "clickhouse": {
      "type": "remote",
      "url": "https://mcp.clickhouse.cloud/mcp",
      "enabled": false
    }
  },
  
  "autoupdate": true,
  "share": "manual"
}
